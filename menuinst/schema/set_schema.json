{
  "title": "MenuInstSchema",
  "description": "Metadata required to create menu items across operating systems with `menuinst`",
  "type": "object",
  "properties": {
    "menu_name": {
      "title": "Menu Name",
      "description": "Name for the category containing the items specified in `menu_items`.",
      "type": "string"
    },
    "menu_items": {
      "title": "Menu Items",
      "description": "List of menu entries to create across main desktop systems",
      "type": "array",
      "items": {
        "$ref": "#/definitions/MenuItem"
      }
    }
  },
  "required": [
    "menu_name",
    "menu_items"
  ],
  "definitions": {
    "Windows": {
      "title": "Windows",
      "description": "Windows-specific instructions. You can override global keys here if needed",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "title": "Description",
          "type": "string"
        },
        "icon": {
          "title": "Icon",
          "type": "string"
        },
        "command": {
          "title": "Command",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "working_dir": {
          "title": "Working Dir",
          "type": "string"
        },
        "desktop": {
          "title": "Desktop",
          "description": "Whether to create a desktop icon in addition to the Start Menu item.",
          "default": true,
          "type": "boolean"
        },
        "quicklaunch": {
          "title": "Quicklaunch",
          "description": "Whether to create a quick launch icon in addition to the Start Menu item.",
          "default": true,
          "type": "boolean"
        }
      }
    },
    "Linux": {
      "title": "Linux",
      "description": "Linux-specific instructions. You can override global keys here if needed",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "title": "Description",
          "type": "string"
        },
        "icon": {
          "title": "Icon",
          "type": "string"
        },
        "command": {
          "title": "Command",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "working_dir": {
          "title": "Working Dir",
          "type": "string"
        },
        "terminal": {
          "title": "Terminal",
          "description": "Whether to run the command as part of a terminal shell or not.",
          "default": false,
          "type": "boolean"
        }
      }
    },
    "Mac": {
      "title": "Mac",
      "description": "Mac-specific instructions. You can override global keys here if needed",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "description": {
          "title": "Description",
          "type": "string"
        },
        "icon": {
          "title": "Icon",
          "type": "string"
        },
        "command": {
          "title": "Command",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "working_dir": {
          "title": "Working Dir",
          "type": "string"
        }
      }
    },
    "MenuItem": {
      "title": "MenuItem",
      "description": "Instructions to create a menu item across operating systems.",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "description": "The name of the menu item",
          "type": "string"
        },
        "description": {
          "title": "Description",
          "description": "A longer description of the menu item. Shown on popup messages.",
          "type": "string"
        },
        "icon": {
          "title": "Icon",
          "description": "Path to the file representing or containing the icon.",
          "type": "string"
        },
        "command": {
          "title": "Command",
          "description": "Command to run with the menu item, expressed as a list of strings where each string is an argument",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "working_dir": {
          "title": "Working Dir",
          "description": "Working directory for the running process. Defaults to user directory on each platform.",
          "type": "string"
        },
        "platforms": {
          "title": "Platforms",
          "description": "Which platforms to create menu items for. Empty dictionaries is enough.",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/Windows"
              },
              {
                "$ref": "#/definitions/Linux"
              },
              {
                "$ref": "#/definitions/Mac"
              }
            ]
          },
          "uniqueItems": true
        }
      },
      "required": [
        "name",
        "description",
        "icon",
        "command",
        "platforms"
      ]
    }
  }
}
